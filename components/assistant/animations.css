/* 
 * Spring animation utilities for AI Assistant
 * Uses cubic-bezier for spring-like easing
 */

/* Spring easing function - approximates spring physics */
:root {
  --spring-duration: 0.4s;
  --spring-easing: cubic-bezier(0.34, 1.56, 0.64, 1);
  --spring-bounce: cubic-bezier(0.68, -0.55, 0.265, 1.55);
}

/* Modal spring animations */
.modal-spring-enter {
  animation: modalSpringIn var(--spring-duration) var(--spring-easing);
}

.modal-spring-exit {
  animation: modalSpringOut 0.2s ease-out;
}

@keyframes modalSpringIn {
  from {
    opacity: 0;
    transform: translateY(2rem) scale(0.95);
  }
  to {
    opacity: 1;
    transform: translateY(0) scale(1);
  }
}

@keyframes modalSpringOut {
  from {
    opacity: 1;
    transform: translateY(0) scale(1);
  }
  to {
    opacity: 0;
    transform: translateY(2rem) scale(0.95);
  }
}

/* FAB spring animations */
.fab-spring-enter {
  animation: fabSpringIn 0.5s var(--spring-bounce);
}

@keyframes fabSpringIn {
  0% {
    opacity: 0;
    transform: scale(0);
  }
  50% {
    transform: scale(1.1);
  }
  100% {
    opacity: 1;
    transform: scale(1);
  }
}

/* Pulse animation for notification badge */
@keyframes pulse-scale {
  0%, 100% {
    transform: scale(1);
  }
  50% {
    transform: scale(1.1);
  }
}

.badge-pulse {
  animation: pulse-scale 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
}

/* Smooth backdrop fade */
.backdrop-fade-enter {
  animation: backdropFadeIn 0.2s ease-out;
}

.backdrop-fade-exit {
  animation: backdropFadeOut 0.15s ease-in;
}

@keyframes backdropFadeIn {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

@keyframes backdropFadeOut {
  from {
    opacity: 1;
  }
  to {
    opacity: 0;
  }
}

/* Context switcher dropdown spring */
.dropdown-spring {
  animation: dropdownSpring 0.3s var(--spring-easing);
}

@keyframes dropdownSpring {
  from {
    opacity: 0;
    transform: translateY(-0.5rem) scale(0.95);
  }
  to {
    opacity: 1;
    transform: translateY(0) scale(1);
  }
}

/* Optimize for 60fps */
.modal-spring-enter,
.modal-spring-exit,
.fab-spring-enter,
.backdrop-fade-enter,
.backdrop-fade-exit {
  will-change: transform, opacity;
}

/* Disable animations for users who prefer reduced motion */
@media (prefers-reduced-motion: reduce) {
  .modal-spring-enter,
  .modal-spring-exit,
  .fab-spring-enter,
  .backdrop-fade-enter,
  .backdrop-fade-exit,
  .dropdown-spring {
    animation: none !important;
    transition: none !important;
  }
  
  .badge-pulse {
    animation: none !important;
  }
}

/* GPU acceleration hints */
.gpu-accelerate {
  transform: translateZ(0);
  backface-visibility: hidden;
  perspective: 1000px;
}
